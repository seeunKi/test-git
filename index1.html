<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배송현황</title>
    <style>
        tfoot { background-color: beige; }
        .nav {
            height: 87px;
            border-bottom: 5px solid black;
            display: flex;
            align-items: center;
            justify-content: flex-end; 
        }
        .nav-item {
            margin-left: 10px;
        }
        .criteria {
            margin-top: 20px; 
            margin-bottom: 20px; 
            display: flex;
            align-items: center;
            justify-content: flex-start; 
        }
        .criteria span {
            margin-right: 10px;
            font-size: 20px; 
            font-weight: bold; 
        }
        .criteria select {
            font-size: 16px; 
            padding: 5px; 
        }
        .location-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 10px;
        }
        .location-option {
            display: flex;
            align-items: center;
            cursor: pointer;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            background-color: #f9f9f9;
            transition: background-color 0.3s;
        }
        .location-option.selected {
            background-color: #e0f7fa;
        }
        .location-option span {
            margin-left: 5px;
            font-size: 18px;
        }
        .delivery-table {
            display: none;
            width: 100%;
            max-width: 1200px; 
            margin: 20px 0; 
            text-align: left; 
        }
        .filtered-table {
            display: none; 
            width: 100%;
            max-width: 1200px;
            margin: 20px 0;
            text-align: left;
        }
    </style>
</head>
<body>
    <div class="nav">
        <div class="nav-item">Logout</div>
        <div class="nav-item">현재 배송현황</div>
        <div class="nav-item">고객센터</div>
        <div class="nav-item">자주하는 질문</div>
    </div>
    <h1 style="text-align: left; margin-top: 20px;">배송현황</h1>
    
    <div class="criteria">
        <span>정렬기준</span>
        <select id="sortingCriteria" onchange="updateOptions()">
            <option value="arrival-time">도착시간</option>
            <option value="arrival-location">도착장소</option>
        </select>
    </div>

    <div class="location-options" id="locationOptions" style="display: none;">
        <div class="location-option" onclick="filterTableByLocation('집')">
            <input type="radio" name="location" id="location-home" value="집">
            <span>집</span>
        </div>
        <div class="location-option" onclick="filterTableByLocation('회사')">
            <input type="radio" name="location" id="location-office" value="회사">
            <span>회사</span>
        </div>
        <div class="location-option" onclick="filterTableByLocation('연구실')">
            <input type="radio" name="location" id="location-lab" value="연구실">
            <span>연구실</span>
        </div>
    </div>

    <table id="deliveryTable" class="delivery-table" border="1" width="877" height="300" cellpadding="10">
        <thead>
            <tr>
                <td>배송날짜</td>
                <td>도착시간</td>
                <td>도착장소 및 택배사 정보</td>
                <td>상품목록</td>
                <td>배송현황</td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>2024-06-13</td>
                <td>17시 이내</td>
                <td>집 / 대한통운</td>
                <td>상품100</td>
                <td>배송 중</td>
            </tr>
            <tr>
                <td>2024-06-13</td>
                <td>15시 이내</td>
                <td>회사 / 우체국택배</td>
                <td>상품99</td>
                <td>배송 중</td>
            </tr>
            <tr>
                <td>2024-06-13</td>
                <td>8시 이내</td>
                <td>연구실 / 대한통운</td>
                <td>상품98</td>
                <td>배송 중</td>
            </tr>
            <tr>
                <td>2024-06-13</td>
                <td>17시 이내</td>
                <td>집 / 우체국택배</td>
                <td>상품97</td>
                <td>배송 중</td>
            </tr>
            <tr>
                <td>2024-06-13</td>
                <td>15시 이내</td>
                <td>회사 / 대한통운</td>
                <td>상품96</td>
                <td>배송 중</td>
            </tr>
        </tbody>
    </table>

    <table border="1" class="delivery-table" cellpadding="10">
        <tfoot>
            <tr>
                <td>배송날짜</td>
                <td>도착장소 및 택배사 정보</td>
                <td>상품목록</td>
                <td>리뷰링크</td>
                <td>환불링크</td>
                <td>교환링크</td>
            </tr>
            <tr>
                <td>2024-06-12</td>
                <td>집 / 우체국택배</td>
                <td>상품95</td>
                <td><a href="http://127.0.0.1:5500/test-git/index.review.html">리뷰링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.refund.html">환불링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.exchange.html">교환링크</a></td>
            </tr>
            <tr>
                <td>2024-06-11</td>
                <td>연구실 / 대한통운</td>
                <td>상품94</td>
                <td><a href="http://127.0.0.1:5500/test-git/index.review.html">리뷰링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.refund.html">환불링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.exchange.html">교환링크</a></td>
            </tr>
            <tr>
                <td>2024-06-10</td>
                <td>회사 / 우체국택배</td>
                <td>상품93</td>
                <td><a href="http://127.0.0.1:5500/test-git/index.review.html">리뷰링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.refund.html">환불링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.exchange.html">교환링크</a></td>
            </tr>
            <tr>
                <td>2024-06-09</td>
                <td>집 / 대한통운</td>
                <td>상품92</td>
                <td><a href="http://127.0.0.1:5500/test-git/index.review.html">리뷰링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.refund.html">환불링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.exchange.html">교환링크</a></td>
            </tr>
            <tr>
                <td>2024-06-08</td>
                <td>회사 / 대한통운</td>
                <td>상품91</td>
                <td><a href="http://127.0.0.1:5500/test-git/index.review.html">리뷰링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.refund.html">환불링크</a></td>
                <td><a href="http://127.0.0.1:5500/test-git/index.exchange.html">교환링크</a></td>
            </tr>
        </tfoot>
    </table>

   
    <table id="filteredTable" class="filtered-table" border="1" cellpadding="10">
        <thead>
            <tr>
                <td>배송날짜</td>
                <td>도착시간</td>
                <td>도착장소 및 택배사 정보</td>
                <td>상품목록</td>
                <td>배송현황</td>
            </tr>
        </thead>
        <tbody id="filteredTableBody">
        </tbody>
    </table>

    <script>
        
        function updateOptions() {
            var criteria = document.getElementById("sortingCriteria").value;
            var locationOptions = document.getElementById("locationOptions");
            var deliveryTable = document.getElementById("deliveryTable");
            var filteredTable = document.getElementById("filteredTable");

            if (criteria === "arrival-location") {
                locationOptions.style.display = "flex"; 
                deliveryTable.style.display = "none"; 
                filteredTable.style.display = "none"; 
            } else {
                locationOptions.style.display = "none"; 
                deliveryTable.style.display = "table"; 
                filteredTable.style.display = "none"; 
                sortTable(); 
        }

        
        function filterTableByLocation(location) {
            var table = document.getElementById("deliveryTable");
            var rows = Array.from(table.querySelectorAll("tbody tr"));
            var filteredTableBody = document.getElementById("filteredTableBody");

           
            filteredTableBody.innerHTML = '';

            
            rows.forEach(function(row) {
                var cellLocation = row.cells[2].innerText.split(" / ")[0].trim();
                if (cellLocation === location) {
                    filteredTableBody.appendChild(row.cloneNode(true));
                }
            });

            
            document.getElementById("filteredTable").style.display = 'table';
        }

        
        function sortTable() {
            var table = document.getElementById("deliveryTable");
            var tbody = table.tBodies[0];
            var rows = Array.from(tbody.rows);

            var sortingCriteria = document.getElementById("sortingCriteria").value;

            if (sortingCriteria === "arrival-time") {
                rows.sort(function(a, b) {
                    var timeA = convertTimeToNumber(a.cells[1].innerText);
                    var timeB = convertTimeToNumber(b.cells[1].innerText);
                    return timeA - timeB;
                });
            } else if (sortingCriteria === "arrival-location") {
                rows.sort(function(a, b) {
                    var locationA = a.cells[2].innerText.split(" / ")[0].trim();
                    var locationB = b.cells[2].innerText.split(" / ")[0].trim();
                    return locationA.localeCompare(locationB);
                });
            }

            
            rows.forEach(function(row) {
                tbody.appendChild(row);
            });
        }

        
        function convertTimeToNumber(timeStr) {
            
            return parseInt(timeStr.replace("시 이내", "").trim());
        }

        
        window.onload = function() {
            var table = document.querySelector("tfoot");
            var rows = Array.from(table.querySelectorAll("tr")).slice(1); 

            rows.sort(function(a, b) {
                var dateA = new Date(a.cells[0].innerText);
                var dateB = new Date(b.cells[0].innerText);
                return dateB - dateA; 
            });

            
            rows.forEach(function(row) {
                table.appendChild(row);
            });
        } }
    </script>
</body>
</html>